<div class="update-container" *ngIf="!loading; else loadingTpl">
  <h2>Update Profile</h2>

  <form (ngSubmit)="onUpdate()" #updateForm="ngForm">
    <!-- Email (readonly) -->
    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        [(ngModel)]="washer.email"
        name="email"
        readonly
        class="readonly-input"
      />
    </div>

    <!-- Username -->
    <div class="form-group">
      <label>Username</label>
      <input
        type="text"
        [(ngModel)]="washer.username"
        name="username"
        placeholder="Enter username"
        required
      />
    </div>

    <!-- Phone Number -->
    <div class="form-group">
      <label>Phone No</label>
      <input
        type="text"
        [(ngModel)]="washer.phoneNo"
        name="phoneNo"
        placeholder="Enter phone number"
      />
    </div>

    <!-- Password with toggle -->
    <div class="form-group password-field">
      <label>Password</label>
      <input
        [type]="showPassword ? 'text' : 'password'"
        [(ngModel)]="washer.password"
        name="password"
        placeholder="Enter new password (leave blank if unchanged)"
      />
      <button type="button" class="toggle-btn" (click)="togglePasswordVisibility()">
        {{ showPassword ? 'ğŸ™ˆ Hide' : 'ğŸ‘ Show' }}
      </button>
    </div>

    <!-- Submit -->
    <button type="submit" class="update-btn">Update</button>
  </form>

  <!-- Status message -->
  <div *ngIf="message" class="message">{{ message }}</div>
</div>

<!-- Loading State -->
<ng-template #loadingTpl>
  <div class="loading">Loading profile...</div>
</ng-template>
